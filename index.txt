<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i 2.2: K·ªÉ Chuy·ªán B·∫±ng Bi·ªÉu ƒê·ªì</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f9ff; scroll-behavior: smooth; }
        .card { background: white; border-radius: 1rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); margin-bottom: 2rem; }
        .section-title { border-left: 6px solid #0284c7; padding-left: 1rem; margin-bottom: 1.5rem; color: #0369a1; font-weight: bold; font-size: 1.5rem; }
        canvas { max-height: 350px; width: 100% !important; }
        .quiz-option { transition: all 0.2s; cursor: pointer; }
        .quiz-option:hover:not(:disabled) { background-color: #f0f9ff; border-color: #0ea5e9; }
        .correct { background-color: #dcfce7 !important; border-color: #22c55e !important; color: #166534; }
        .wrong { background-color: #fee2e2 !important; border-color: #ef4444 !important; color: #991b1b; }
        .sticky-nav { position: sticky; top: 0; z-index: 50; background: rgba(240, 249, 255, 0.9); backdrop-filter: blur(4px); }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-5xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-5xl font-bold text-sky-700 mb-2">üìä K·ªÉ Chuy·ªán B·∫±ng Bi·ªÉu ƒê·ªì</h1>
            <p class="text-lg text-gray-600">M√¥n: Tin h·ªçc - L·ªõp 1 (Vinschool Grand Park)</p>
        </header>

        <!-- Quick Navigation -->
        <div class="sticky-nav py-4 mb-8 border-b border-sky-100">
            <nav class="flex flex-wrap gap-2 justify-center">
                <a href="#intro" class="px-4 py-2 rounded-full bg-white shadow-sm border border-sky-200 text-sky-700 hover:bg-sky-600 hover:text-white font-medium text-sm transition-all">1. Kh·ªüi ƒë·ªông</a>
                <a href="#theory" class="px-4 py-2 rounded-full bg-white shadow-sm border border-sky-200 text-sky-700 hover:bg-sky-600 hover:text-white font-medium text-sm transition-all">2. Ki·∫øn th·ª©c</a>
                <a href="#practice" class="px-4 py-2 rounded-full bg-white shadow-sm border border-sky-200 text-sky-700 hover:bg-sky-600 hover:text-white font-medium text-sm transition-all">3. Th·ª±c h√†nh</a>
                <a href="#quiz" class="px-4 py-2 rounded-full bg-white shadow-sm border border-sky-200 text-sky-700 hover:bg-sky-600 hover:text-white font-medium text-sm transition-all">4. ƒê·ªë vui</a>
            </nav>
        </div>

        <!-- SECTION 1: KH·ªûI ƒê·ªòNG -->
        <section id="intro" class="card p-6 md:p-8">
            <h2 class="section-title">üåü 1. Th·ª≠ th√°ch kh·ªüi ƒë·ªông</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <p class="text-lg mb-4 text-gray-700">Nh√¨n v√†o b·∫£ng d∆∞·ªõi ƒë√¢y, con h√£y ƒëo√°n xem ƒë·ªì v·∫≠t n√†o c√≥ <b>nhi·ªÅu nh·∫•t</b>?</p>
                    <div class="overflow-hidden rounded-xl border border-gray-200 shadow-sm">
                        <table class="min-w-full divide-y divide-gray-200 text-lg">
                            <thead class="bg-sky-50">
                                <tr>
                                    <th class="px-6 py-3 text-left font-bold text-sky-700">ƒê·ªì v·∫≠t</th>
                                    <th class="px-6 py-3 text-left font-bold text-sky-700">S·ªë l∆∞·ª£ng</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200 text-gray-600">
                                <tr><td class="px-6 py-4">T√°o üçé</td><td class="px-6 py-4 font-bold">3</td></tr>
                                <tr><td class="px-6 py-4">Cam üçä</td><td class="px-6 py-4 font-bold">8</td></tr>
                                <tr><td class="px-6 py-4">Nho üçá</td><td class="px-6 py-4 font-bold">5</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="bg-sky-50 p-6 rounded-2xl border-2 border-dashed border-sky-200">
                    <p class="text-sky-800 text-lg italic leading-relaxed">
                        "Con th·∫•y kh√¥ng? Nh√¨n b·∫£ng s·ªë li·ªáu ch√∫ng ta ph·∫£i ƒë·ªçc t·ª´ng d√≤ng v√† so s√°nh trong ƒë·∫ßu. <br><br>
                        Nh∆∞ng n·∫øu ch√∫ng ta v·∫Ω ch√∫ng th√†nh c√°c <b>C·ªòT CAO - TH·∫§P</b>, ch√∫ng ta s·∫Ω th·∫•y ngay k·∫øt qu·∫£!"
                    </p>
                </div>
            </div>
        </section>

        <!-- SECTION 2: KI·∫æN TH·ª®C -->
        <section id="theory" class="card p-6 md:p-8">
            <h2 class="section-title">üìñ 2. Ki·∫øn th·ª©c c·∫ßn nh·ªõ</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="p-4 bg-orange-50 rounded-xl border-b-4 border-orange-400">
                    <span class="text-3xl mb-2 block">‚úçÔ∏è</span>
                    <h3 class="font-bold mb-1">B∆∞·ªõc 1</h3>
                    <p class="text-sm">Nh·∫≠p <b>T√™n</b> ƒë·ªì v·∫≠t v√†o c·ªôt b√™n tr√°i.</p>
                </div>
                <div class="p-4 bg-blue-50 rounded-xl border-b-4 border-blue-400">
                    <span class="text-3xl mb-2 block">üî¢</span>
                    <h3 class="font-bold mb-1">B∆∞·ªõc 2</h3>
                    <p class="text-sm">Nh·∫≠p <b>S·ªë l∆∞·ª£ng</b> v√†o c·ªôt b√™n ph·∫£i.</p>
                </div>
                <div class="p-4 bg-green-50 rounded-xl border-b-4 border-green-400">
                    <span class="text-3xl mb-2 block">üñ±Ô∏è</span>
                    <h3 class="font-bold mb-1">B∆∞·ªõc 3</h3>
                    <p class="text-sm">B·∫•m n√∫t <b>T·∫°o bi·ªÉu ƒë·ªì</b> ƒë·ªÉ xem k·∫øt qu·∫£.</p>
                </div>
                <div class="p-4 bg-purple-50 rounded-xl border-b-4 border-purple-400">
                    <span class="text-3xl mb-2 block">üëÄ</span>
                    <h3 class="font-bold mb-1">B∆∞·ªõc 4</h3>
                    <p class="text-sm">T√¨m c·ªôt <b>Cao nh·∫•t</b> v√† <b>Th·∫•p nh·∫•t</b>.</p>
                </div>
            </div>
        </section>

        <!-- SECTION 3: TH·ª∞C H√ÄNH -->
        <section id="practice" class="card p-6 md:p-8">
            <h2 class="section-title">üõ†Ô∏è 3. Th·ª±c h√†nh t·∫°o bi·ªÉu ƒë·ªì</h2>
            <div class="bg-yellow-50 p-4 rounded-lg mb-6 border-l-4 border-yellow-400">
                <p class="font-bold text-yellow-800">Nhi·ªám v·ª• nh√≥m:</p>
                <p class="text-yellow-700 italic">Nh·∫≠p d·ªØ li·ªáu sau: S√°ch: 5, Truy·ªán tranh: 8, V·ªü: 3. Sau ƒë√≥ nh·∫•n n√∫t T·∫°o bi·ªÉu ƒë·ªì.</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Data Input -->
                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200">
                    <h3 class="font-bold mb-4 flex items-center gap-2">‚å®Ô∏è Nh·∫≠p d·ªØ li·ªáu:</h3>
                    <div id="input-container" class="space-y-3">
                        <div class="flex gap-2">
                            <input type="text" placeholder="T√™n (v√≠ d·ª•: S√°ch)" class="name-input w-2/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
                            <input type="number" placeholder="S·ªë" class="val-input w-1/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
                        </div>
                        <div class="flex gap-2">
                            <input type="text" placeholder="T√™n" class="name-input w-2/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
                            <input type="number" placeholder="S·ªë" class="val-input w-1/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
                        </div>
                        <div class="flex gap-2">
                            <input type="text" placeholder="T√™n" class="name-input w-2/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
                            <input type="number" placeholder="S·ªë" class="val-input w-1/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
                        </div>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-3 mt-6">
                        <button onclick="addRow()" class="bg-white text-sky-700 border border-sky-700 px-4 py-3 rounded-lg hover:bg-sky-50 font-bold transition-all">+ Th√™m d√≤ng</button>
                        <button onclick="generateChart()" class="bg-sky-600 text-white px-8 py-3 rounded-lg hover:bg-sky-700 font-bold shadow-lg flex-grow transition-all">V·∫º BI·ªÇU ƒê·ªí üöÄ</button>
                    </div>
                </div>

                <!-- Display Chart -->
                <div class="bg-white p-6 rounded-2xl border-2 border-dashed border-gray-300 relative flex flex-col items-center justify-center min-h-[300px]">
                    <div id="chart-wrapper" class="w-full hidden">
                        <canvas id="myChart"></canvas>
                    </div>
                    <div id="placeholder-ui" class="text-center">
                        <div class="text-5xl mb-4">üìâ</div>
                        <p class="text-gray-400 font-medium italic">Bi·ªÉu ƒë·ªì c·ªßa con s·∫Ω xu·∫•t hi·ªán ·ªü ƒë√¢y!</p>
                    </div>
                </div>
            </div>

            <div id="analysis-box" class="hidden mt-8 p-6 bg-green-50 border border-green-200 rounded-2xl shadow-sm animate-pulse">
                <h3 class="font-bold text-green-800 mb-2 flex items-center gap-2">üîç K·∫øt qu·∫£ quan s√°t:</h3>
                <p id="analysis-text" class="text-green-700 text-lg"></p>
            </div>
        </section>

        <!-- SECTION 4: QUIZ -->
        <section id="quiz" class="card p-6 md:p-8 bg-white border-t-8 border-purple-500">
            <h2 class="section-title" style="border-left-color: #a855f7; color: #7e22ce;">üß† 4. ƒê·ªë vui c·ªßng c·ªë</h2>
            
            <div id="quiz-list" class="space-y-8">
                <!-- Questions will be rendered here by JS -->
            </div>

            <div id="quiz-controls" class="mt-10 text-center flex flex-col items-center gap-4">
                <div id="score-display" class="hidden text-2xl font-bold text-purple-700 bg-purple-100 px-8 py-4 rounded-full">
                    K·∫øt qu·∫£: 0/5 c√¢u ƒë√∫ng
                </div>
                <button id="reset-quiz-btn" onclick="resetQuiz()" class="hidden bg-purple-600 text-white px-10 py-4 rounded-xl hover:bg-purple-700 font-bold shadow-xl transition-all text-lg">
                    üîÑ L√ÄM L·∫†I T·ª™ ƒê·∫¶U
                </button>
            </div>
        </section>

        <footer class="py-12 text-center text-gray-400 text-sm border-t border-gray-100">
            Thi·∫øt k·∫ø b√†i gi·∫£ng t∆∞∆°ng t√°c - Gi√°o vi√™n: Th√°i Ho√†ng An<br>
            ¬© 2026 Vinschool Education
        </footer>
    </div>

    <script>
        // --- CHART LOGIC ---
        let myChart = null;

        function addRow() {
            const container = document.getElementById('input-container');
            const div = document.createElement('div');
            div.className = 'flex gap-2';
            div.innerHTML = `
                <input type="text" placeholder="T√™n" class="name-input w-2/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
                <input type="number" placeholder="S·ªë" class="val-input w-1/3 p-3 border rounded-lg focus:ring-2 focus:ring-sky-400 outline-none">
            `;
            container.appendChild(div);
        }

        function generateChart() {
            const names = Array.from(document.querySelectorAll('.name-input')).map(i => i.value).filter(v => v.trim() !== "");
            const values = Array.from(document.querySelectorAll('.val-input')).map(i => parseInt(i.value)).filter(v => !isNaN(v));

            if (names.length === 0 || values.length === 0) {
                alert("Con h√£y nh·∫≠p t√™n ƒë·ªì d√πng v√† s·ªë l∆∞·ª£ng v√†o b·∫£ng nh√©!");
                return;
            }

            document.getElementById('placeholder-ui').classList.add('hidden');
            document.getElementById('chart-wrapper').classList.remove('hidden');
            
            const ctx = document.getElementById('myChart').getContext('2d');
            if (myChart) myChart.destroy();

            myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: names,
                    datasets: [{
                        label: 'S·ªë l∆∞·ª£ng',
                        data: values,
                        backgroundColor: [
                            '#38bdf8', '#fb7185', '#fbbf24', '#34d399', '#a78bfa', '#f472b6'
                        ],
                        borderRadius: 10,
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { 
                        y: { 
                            beginAtZero: true,
                            ticks: { stepSize: 1 }
                        } 
                    }
                }
            });

            const maxVal = Math.max(...values);
            const minVal = Math.min(...values);
            const maxName = names[values.indexOf(maxVal)];
            const minName = names[values.indexOf(minVal)];

            document.getElementById('analysis-box').classList.remove('hidden');
            document.getElementById('analysis-text').innerHTML = `
                Con gi·ªèi l·∫Øm! Nh√¨n bi·ªÉu ƒë·ªì ta th·∫•y ngay:<br>
                - <b>${maxName}</b> l√† nhi·ªÅu nh·∫•t (c·ªôt cao nh·∫•t v·ªõi ${maxVal}).<br>
                - <b>${minName}</b> l√† √≠t nh·∫•t (c·ªôt th·∫•p nh·∫•t v·ªõi ${minVal}).
            `;
        }

        // --- QUIZ LOGIC ---
        const quizData = [
            {
                q: "ƒê·ªÉ t·∫°o bi·ªÉu ƒë·ªì, ƒë·∫ßu ti√™n con c·∫ßn ph·∫£i c√≥ g√¨?",
                options: ["M·ªôt h·ªôp b√∫t m√†u", "M·ªôt b·ªô d·ªØ li·ªáu (t√™n v√† s·ªë l∆∞·ª£ng)", "M·ªôt t·ªù gi·∫•y tr·∫Øng"],
                correct: 1
            },
            {
                q: "Trong bi·ªÉu ƒë·ªì c·ªôt, c·ªôt TH·∫§P nh·∫•t cho bi·∫øt ƒëi·ªÅu g√¨?",
                options: ["Lo·∫°i ƒë√≥ c√≥ s·ªë l∆∞·ª£ng √≠t nh·∫•t", "Lo·∫°i ƒë√≥ c√≥ s·ªë l∆∞·ª£ng nhi·ªÅu nh·∫•t", "Lo·∫°i ƒë√≥ ƒë·∫πp nh·∫•t"],
                correct: 0
            },
            {
                q: "Bi·ªÉu ƒë·ªì c·ªôt gi√∫p con l√†m g√¨ nhanh h∆°n b·∫£ng s·ªë?",
                options: ["Gi√∫p con v·∫Ω ƒë·∫πp h∆°n", "Gi√∫p con so s√°nh v√† ƒë·ªçc k·∫øt qu·∫£ nhanh h∆°n", "Gi√∫p con h·ªçc thu·ªôc l√≤ng s·ªë"],
                correct: 1
            },
            {
                q: "Khi nh·∫≠p s·ªë l∆∞·ª£ng l√† 10, c·ªôt trong bi·ªÉu ƒë·ªì s·∫Ω nh∆∞ th·∫ø n√†o so v·ªõi s·ªë l∆∞·ª£ng l√† 2?",
                options: ["C·ªôt 10 s·∫Ω th·∫•p h∆°n", "C·ªôt 10 s·∫Ω cao h∆°n nhi·ªÅu", "Hai c·ªôt b·∫±ng nhau"],
                correct: 1
            },
            {
                q: "Con c√≥ th·ªÉ t·∫°o bi·ªÉu ƒë·ªì c·ªôt t·ª´ c√¥ng c·ª• k·ªπ thu·∫≠t s·ªë kh√¥ng?",
                options: ["C√≥ th·ªÉ ch·ª©!", "Kh√¥ng th·ªÉ, ch·ªâ v·∫Ω ƒë∆∞·ª£c b·∫±ng tay th√¥i", "Ch·ªâ d√πng ƒë·ªÉ ch∆°i game th√¥i"],
                correct: 0
            }
        ];

        let userAnswers = new Array(quizData.length).fill(null);

        function renderQuiz() {
            const container = document.getElementById('quiz-list');
            container.innerHTML = quizData.map((item, qIdx) => `
                <div class="quiz-item bg-gray-50 p-6 rounded-2xl border border-gray-100">
                    <p class="font-bold text-lg mb-4 text-gray-800">${qIdx + 1}. ${item.q}</p>
                    <div class="grid grid-cols-1 gap-3">
                        ${item.options.map((opt, oIdx) => `
                            <button 
                                onclick="handleAnswer(${qIdx}, ${oIdx}, this)" 
                                class="quiz-option text-left p-4 border-2 border-white bg-white rounded-xl shadow-sm font-medium"
                            >${opt}</button>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function handleAnswer(qIdx, oIdx, btn) {
            if (userAnswers[qIdx] !== null) return; // Only allow one answer

            userAnswers[qIdx] = oIdx;
            const isCorrect = oIdx === quizData[qIdx].correct;
            const parent = btn.parentElement;
            const buttons = parent.querySelectorAll('button');

            // Feedback visually
            if (isCorrect) {
                btn.classList.add('correct');
                btn.innerHTML += " ‚ú® (ƒê√∫ng r·ªìi!)";
            } else {
                btn.classList.add('wrong');
                btn.innerHTML += " ‚ùå (Ch∆∞a ƒë√∫ng)";
                // Show correct one
                buttons[quizData[qIdx].correct].classList.add('correct');
            }

            // Disable others
            buttons.forEach(b => b.disabled = true);

            // Check if finished
            if (!userAnswers.includes(null)) {
                showFinalResult();
            }
        }

        function showFinalResult() {
            let correctCount = 0;
            userAnswers.forEach((ans, idx) => {
                if (ans === quizData[idx].correct) correctCount++;
            });

            const scoreDisplay = document.getElementById('score-display');
            scoreDisplay.innerHTML = `üåü K·∫øt qu·∫£: ${correctCount}/${quizData.length} c√¢u ƒë√∫ng!`;
            scoreDisplay.classList.remove('hidden');
            document.getElementById('reset-quiz-btn').classList.remove('hidden');
            
            // Scroll to result
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }

        function resetQuiz() {
            userAnswers = new Array(quizData.length).fill(null);
            document.getElementById('score-display').classList.add('hidden');
            document.getElementById('reset-quiz-btn').classList.add('hidden');
            renderQuiz();
            // Scroll back to quiz start
            document.getElementById('quiz').scrollIntoView({ behavior: 'smooth' });
        }

        // Init
        window.onload = renderQuiz;
    </script>
</body>
</html>